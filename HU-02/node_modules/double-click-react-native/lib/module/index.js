import React, { useEffect } from 'react';
import { TouchableOpacity } from 'react-native';
export default function DoubleClick(data) {
  let delayTime = data.delay ? data.delay : 300;
  let firstPress = true;
  let lastTime = new Date().getTime();
  let timer = 0;

  const singlePress = now => {
    firstPress = false;
    timer = setTimeout(() => {
      data.singleTap ? data.singleTap() : null;
      firstPress = true;
    }, delayTime);
    lastTime = now;
  };

  const doublePress = now => {
    if (now - lastTime < delayTime) {
      timer && clearTimeout(timer);
      data.doubleTap ? data.doubleTap() : null;
      firstPress = true;
    }
  };

  const _onPress = () => {
    let now = new Date().getTime();
    firstPress ? singlePress(now) : doublePress(now);
  };

  useEffect(() => {
    return () => {
      timer && clearTimeout(timer);
    };
  }, [timer]);
  return /*#__PURE__*/React.createElement(TouchableOpacity, {
    onPress: _onPress,
    style: data.style
  }, data.children);
}
//# sourceMappingURL=index.js.map